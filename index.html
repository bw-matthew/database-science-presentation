<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <title>Database Science</title>

        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/reveal.js/3.5.0/css/reveal.css">
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/reveal.js/3.5.0/css/theme/solarized.css">

        <!-- Theme used for syntax highlighting of code -->
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/reveal.js/3.5.0/lib/css/zenburn.css">

        <!-- Printing and PDF exports -->
        <script>
            var link = document.createElement( 'link' );
            link.rel = 'stylesheet';
            link.type = 'text/css';
            link.href = window.location.search.match( /print-pdf/gi ) ? '//cdnjs.cloudflare.com/ajax/libs/reveal.js/3.5.0/css/print/pdf.css' : '//cdnjs.cloudflare.com/ajax/libs/reveal.js/3.5.0/css/print/paper.css';
            document.getElementsByTagName( 'head' )[0].appendChild( link );
        </script>

        <style>
            .text-bold {
                color: white !important;
            }
            .text-border {
                text-shadow: -2px 0 black, 0 2px black, 2px 0 black, 0 -2px black !important;
            }
            .background-scaled {
                background-size: contain !important;
                background-position: center center !important;
                background-repeat: no-repeat !important;
            }
        </style>
    </head>
    <body>
        <div class="reveal">
            <div class="slides">
                <section>
                    <h1>Database Science</h1>
                </section>

                <section data-background="media/bias.jpg">
                </section>

                <section class="background-scaled" data-background="url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMC8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMtU1ZHLTIwMDEwOTA0L0RURC9zdmcxMC5kdGQnPjxzdmcgaGVpZ2h0PSIxMTBweCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTEwIDExMDsiIHZlcnNpb249IjEuMCIgdmlld0JveD0iMCAwIDExMCAxMTAiIHdpZHRoPSIxMTBweCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGcgaWQ9IkFydGJvYXJkIi8+PGcgaWQ9Ik11bHRpY29sb3IiPjxjaXJjbGUgY3g9IjU1IiBjeT0iNTUiIHI9IjU1IiBzdHlsZT0iZmlsbDojMjVCN0QzOyIvPjxnPjxwYXRoIGQ9Ik02NSw4NWMwLDEuMTA1LTAuODk1LDItMiwySDQ3Yy0xLjEwNSwwLTItMC44OTUtMi0yVjU3YzAtMS4xMDUsMC44OTUtMiwyLTJoMTYgICAgYzEuMTA1LDAsMiwwLjg5NSwyLDJWODV6IiBzdHlsZT0iZmlsbDojM0UzRTNGOyIvPjxwYXRoIGQ9Ik04Nyw4NWMwLDEuMTA1LTAuODk1LDItMiwySDY5Yy0xLjEwNSwwLTItMC44OTUtMi0yVjU3YzAtMS4xMDUsMC44OTUtMiwyLTJoMTYgICAgYzEuMTA1LDAsMiwwLjg5NSwyLDJWODV6IiBzdHlsZT0iZmlsbDojM0UzRTNGOyIvPjxwYXRoIGQ9Ik00Myw4NWMwLDEuMTA1LTAuODk1LDItMiwySDI1Yy0xLjEwNSwwLTItMC44OTUtMi0yVjU3YzAtMS4xMDUsMC44OTUtMiwyLTJoMTYgICAgYzEuMTA1LDAsMiwwLjg5NSwyLDJWODV6IiBzdHlsZT0iZmlsbDojM0UzRTNGOyIvPjxjaXJjbGUgY3g9IjM4LjUiIGN5PSI1OS41IiByPSIxLjUiIHN0eWxlPSJmaWxsOiNGQTU2NTU7Ii8+PGNpcmNsZSBjeD0iMzMuNSIgY3k9IjU5LjUiIHI9IjEuNSIgc3R5bGU9ImZpbGw6I0Y5OTEzNDsiLz48Y2lyY2xlIGN4PSIyOC41IiBjeT0iNTkuNSIgcj0iMS41IiBzdHlsZT0iZmlsbDojRkFDQjFCOyIvPjxwYXRoIGQ9Ik03Niw0MS41NjJjMC0zLjk1NC0yLjQ0Mi03LjMzMi01Ljg5OC04LjcyM2MtMi43MzgtNi42OTYtNy4xNjItOS40MTctMTIuNTc5LTkuNDE3ICAgIGMtNS4wOTIsMC05LjUwNiwyLjkwMi0xMS42Nyw3LjE0N2MtMy40NDMtMS40NjYtNy4zMjUsMC45NjktNy40NjgsNC43NEMzNS4yNTEsMzYuNDE0LDMzLDM5LjM5MywzMyw0Mi45MDYgICAgYzAsNC40NTMsMy42MSw4LjA2Miw4LjA2Miw4LjA2MmgyNi44NzVDNjcuOTM3LDUwLjk2OSw3Niw0OS40NzMsNzYsNDEuNTYyeiIgc3R5bGU9ImZpbGw6I0YwRjFGMTsiLz48cGF0aCBkPSJNNTcuNTIzLDIzLjQyMmMtNS4wOTIsMC05LjUwNiwyLjkwMi0xMS42Nyw3LjE0N2MtMy40NDMtMS40NjYtNy4zMjUsMC45NjktNy40NjgsNC43NCAgICBDMzUuMjUxLDM2LjQxNCwzMywzOS4zOTMsMzMsNDIuOTA2YzAsNC4yMjgsMy4yNTcsNy42OSw3LjM5OCw4LjAyOWwyNC45MjMtMjQuOTI0QzYzLjA4MywyNC4yMjUsNjAuNDUsMjMuNDIyLDU3LjUyMywyMy40MjJ6IiBzdHlsZT0iZmlsbDojRkZGRkZGOyIvPjxjaXJjbGUgY3g9IjYwLjUiIGN5PSI1OS41IiByPSIxLjUiIHN0eWxlPSJmaWxsOiNGQTU2NTU7Ii8+PGNpcmNsZSBjeD0iNTUuNSIgY3k9IjU5LjUiIHI9IjEuNSIgc3R5bGU9ImZpbGw6I0Y5OTEzNDsiLz48Y2lyY2xlIGN4PSI1MC41IiBjeT0iNTkuNSIgcj0iMS41IiBzdHlsZT0iZmlsbDojRkFDQjFCOyIvPjxjaXJjbGUgY3g9IjgyLjUiIGN5PSI1OS41IiByPSIxLjUiIHN0eWxlPSJmaWxsOiNGQTU2NTU7Ii8+PGNpcmNsZSBjeD0iNzcuNSIgY3k9IjU5LjUiIHI9IjEuNSIgc3R5bGU9ImZpbGw6I0Y5OTEzNDsiLz48Y2lyY2xlIGN4PSI3Mi41IiBjeT0iNTkuNSIgcj0iMS41IiBzdHlsZT0iZmlsbDojRkFDQjFCOyIvPjxyZWN0IGhlaWdodD0iMiIgc3R5bGU9ImZpbGw6IzgxODI4NDsiIHdpZHRoPSIyMCIgeD0iMjMiIHk9IjgwIi8+PHJlY3QgaGVpZ2h0PSIyIiBzdHlsZT0iZmlsbDojODE4Mjg0OyIgd2lkdGg9IjIwIiB4PSIyMyIgeT0iNzUiLz48cmVjdCBoZWlnaHQ9IjIiIHN0eWxlPSJmaWxsOiM4MTgyODQ7IiB3aWR0aD0iMjAiIHg9IjIzIiB5PSI3MCIvPjxyZWN0IGhlaWdodD0iMiIgc3R5bGU9ImZpbGw6IzgxODI4NDsiIHdpZHRoPSIyMCIgeD0iMjMiIHk9IjY1Ii8+PHJlY3QgaGVpZ2h0PSIyIiBzdHlsZT0iZmlsbDojODE4Mjg0OyIgd2lkdGg9IjIwIiB4PSI0NSIgeT0iODAiLz48cmVjdCBoZWlnaHQ9IjIiIHN0eWxlPSJmaWxsOiM4MTgyODQ7IiB3aWR0aD0iMjAiIHg9IjQ1IiB5PSI3NSIvPjxyZWN0IGhlaWdodD0iMiIgc3R5bGU9ImZpbGw6IzgxODI4NDsiIHdpZHRoPSIyMCIgeD0iNDUiIHk9IjcwIi8+PHJlY3QgaGVpZ2h0PSIyIiBzdHlsZT0iZmlsbDojODE4Mjg0OyIgd2lkdGg9IjIwIiB4PSI0NSIgeT0iNjUiLz48cmVjdCBoZWlnaHQ9IjIiIHN0eWxlPSJmaWxsOiM4MTgyODQ7IiB3aWR0aD0iMjAiIHg9IjY3IiB5PSI4MCIvPjxyZWN0IGhlaWdodD0iMiIgc3R5bGU9ImZpbGw6IzgxODI4NDsiIHdpZHRoPSIyMCIgeD0iNjciIHk9Ijc1Ii8+PHJlY3QgaGVpZ2h0PSIyIiBzdHlsZT0iZmlsbDojODE4Mjg0OyIgd2lkdGg9IjIwIiB4PSI2NyIgeT0iNzAiLz48cmVjdCBoZWlnaHQ9IjIiIHN0eWxlPSJmaWxsOiM4MTgyODQ7IiB3aWR0aD0iMjAiIHg9IjY3IiB5PSI2NSIvPjwvZz48L2c+PC9zdmc+)">
                </section>

                <section>
                    <h2>Postgres Statistics In Action</h2>
                    <pre><code>
➜ CREATE TABLE features (
    all_unique SERIAL,
    all_same INTEGER DEFAULT 1,
    five_values INTEGER,
    random_values INTEGER
);
                    </code></pre>
                </section>

                <section>
                    <h2>Populate Table with 1M Rows</h2>
                    <pre><code>
➜ INSERT INTO features
    (five_values, random_values)
    SELECT n, random() * 10000
        FROM generate_series(1, 5) n,
             generate_series(1, 200000);
                    </code></pre>

                    <pre><code>
➜ ANALYZE features;
                    </code></pre>
                </section>

                <section>
                    <h2>Read Statistics</h2>
                    <pre><code>
➜ SELECT
    attname AS column,
    n_distinct,
    most_common_vals,
    most_common_freqs,
    histogram_bounds,
    correlation
FROM pg_stats
WHERE tablename = 'features';
                    </code></pre>
                </section>

                <section>
                    <h2>All Values are Unique</h2>
                    <pre><code>
column            │ all_unique
n_distinct        │ -1
most_common_vals  │ [null]
most_common_freqs │ [null]
histogram_bounds  │ {4,10093,19649,29321,39013,49415,60620...
correlation       │ 1
                    </code></pre>
                </section>

                <section>
                    <h2>All Values are the Same</h2>
                    <pre><code>
column            │ all_same
n_distinct        │ 1
most_common_vals  │ {1}
most_common_freqs │ {1}
histogram_bounds  │ [null]
correlation       │ 1
                    </code></pre>
                </section>

                <section>
                    <h2>Only 5 Distinct Values</h2>
                    <pre><code>
column            │ five_values
n_distinct        │ 5
most_common_vals  │ {1,2,4,5,3}
most_common_freqs │ {0.203767,0.2006,0.200333,0.197733,0.197567}
histogram_bounds  │ [null]
correlation       │ 1
                    </code></pre>
                </section>

                <section>
                    <h2>Random Selection from 10,000 Values</h2>
                    <pre><code>
column            │ random_values
n_distinct        │ 9995
most_common_vals  │ {5456,320,1726,2783,3178,4224,7841,8785,...
most_common_freqs │ {0.0004,0.000366667,0.000333333,...
histogram_bounds  │ {0,99,193,295,402,499,606,725,840,927,...
correlation       │ 0.00250417
                    </code></pre>
                </section>

                <section class="background-scaled" data-background="media/es.png">
                </section>

                <section data-background="media/application.jpg">
                </section>
            </div>
        </div>

        <script src="//cdnjs.cloudflare.com/ajax/libs/reveal.js/3.5.0/lib/js/head.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/reveal.js/3.5.0/js/reveal.js"></script>

        <script>
            // More info about config & dependencies:
            // - https://github.com/hakimel/reveal.js#configuration
            // - https://github.com/hakimel/reveal.js#dependencies
            Reveal.initialize({
                controls: false,
                progress: false,

                dependencies: [
                    { src: '//cdnjs.cloudflare.com/ajax/libs/reveal.js/3.5.0/plugin/markdown/marked.js' },
                    { src: '//cdnjs.cloudflare.com/ajax/libs/reveal.js/3.5.0/plugin/markdown/markdown.js' },
                    { src: '//cdnjs.cloudflare.com/ajax/libs/reveal.js/3.5.0/plugin/notes/notes.js', async: true },
                    { src: '//cdnjs.cloudflare.com/ajax/libs/reveal.js/3.5.0/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
                ]
            });
        </script>
    </body>
</html>
